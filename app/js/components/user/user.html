<div class="profile row">
  <div class="large-2 columns">
    &nbsp;
  </div>
  <div class="large-14 columns">
    <div class="profile-header">
      <h1>{{user.user.FirstName}} {{user.user.LastName}}</h1>
      <p>{{user.user.Location.City}}, {{user.user.Location.Country.Code}}</p>
      <p>[active/inactive] Last class: [2 Sept 2015]</p>
    </div>
    <div class="row">
      <div class="columns large-9">
        <div class="box">
          <button ng-show="!user.contactEdit" class="edit right" ng-click="user.contactEdit = true">Edit</button>
          <h3>Contact details</h3>
          <div ng-show="!user.contactEdit">
            {{user.user.Telephone}}
            <br> {{user.user.Email}}
          </div>
          <div ng-show="user.contactEdit">
            <div contentEditable ng-model="user.telephone"></div>
            <div contentEditable ng-model="user.email"></div>
            <div class="right">
              <button class="round cancel" ng-click="user.contactEdit = !user.contactEdit">Cancel</button>
              <button class="round " ng-click="user.saveContactDetails()">Save</button>
            </div>
            &nbsp;
          </div>
        </div>
      </div>
      <div class="columns large-9">
        <div class="box">
          <button ng-show="!user.userTypesEdit" class="edit right" ng-click="user.loadUserTypes()">Edit</button>
          <h3>Permissions</h3>
          <div ng-show="!user.userTypesEdit">
            {{user.user.UserType.Name}}
          </div>
          <div ng-show="user.userTypesEdit">
            <user-types ng-model="user.user.UserTypeId"></user-types>
            <div class="right">
              <button class="round cancel" ng-click="user.userTypesEdit = !user.userTypesEdit">Cancel</button>
              <button class="round" ng-click="user.saveUserTypes()">Save</button>
            </div>
            &nbsp;
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="columns large-9">
        <div class="box">
          <button ng-show="!user.gymEdit" class="edit right" ng-click="user.loadGyms()">Edit</button>
          <h3>Resident clubs</h3>
          <!--TODO: convert the following into a directive, and conditionally include it-->
          <div ng-show="!user.gymEdit">
            <ul>
              <li ng-repeat="gym in user.user.UserGyms | orderBy: 'Gym.Name'">
                {{gym.Gym.Name}}
              </li>
            </ul>
          </div>
          <div ng-show="user.gymEdit">
            <label ng-repeat="gym in user.gyms | orderBy: 'Name'">
              <input type="checkbox" ng-model="gym.selected">{{gym.Name}}
            </label>
            <div class="right">
              <button class="round cancel" ng-click="user.gymEdit = !user.gymEdit">Cancel</button>
              <button class="round" ng-click="user.saveGyms()">Save</button>
            </div>
            &nbsp;
          </div>
        </div>
      </div>
      <div class="columns large-9">
        <div class="box">
          <button ng-show="!user.genreEdit" class="edit right" ng-click="user.loadGenres()">Edit</button>
          <h3>Genres</h3>
          <div ng-show="!user.genreEdit">
            <ul>
              <li ng-repeat="genre in user.user.UserGenres | orderBy: 'Name'">
                {{genre.Genre.Name}}
              </li>
            </ul>
          </div>
          <div ng-show="user.genreEdit">
            <label ng-repeat="genre in user.genres | orderBy: 'Name'">
              <input type="checkbox" ng-model="genre.selected">{{genre.Name}}
            </label>
            <div class="right">
              <button class="round cancel" ng-click="user.genreEdit = !user.genreEdit">Cancel</button>
              <button class="round" ng-click="user.saveGenres()">Save</button>
            </div>
            &nbsp;
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <h3>Recent classes</h3>
      <p>[List of recent classes]</p>
    </div>
    <div class="row">
      <h3>Recent rides</h3>
      <p>[List recent playlists]</p>
    </div>
    <div class="row" ng-show="user.user.UserMusicProvider">
      <h3>{{user.user.UserMusicProvider.MusicProvider.Name}} account details</h3>
      <p>Username: {{user.user.UserMusicProvider.Username}}
        <br> Password: {{user.user.UserMusicProvider.Password}}</p>
    </div>
  </div>
  <div class="large-2 columns">
    &nbsp;
  </div>
</div>
